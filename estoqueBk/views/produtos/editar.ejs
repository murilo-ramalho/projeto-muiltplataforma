<%- include('../partials/header.ejs') %>
<%- include('../partials/menu.ejs', {inAdm: inAdm}) %>
<br>
<div class="container">
    <div class="card">
        <div class="card-header">
            Editar Produto
        </div>
        <div class="card-body">
            <form method="post" action="/produtos/salvar">
                <input type="hidden" name="id" id="id" value="<%= produto.id %>">
                <div class="form-floating mb-3">
                    <input 
                        type="text" 
                        class="form-control"
                        name="descricao"
                        id="descricao"
                        placeholder="Descrição"
                        value="<%= produto.descricao %>"
                        required>
                    <label for="descricao">Descrição</label>
                </div>
                <div class="form-floating mb-3">
                    <input 
                        type="number" 
                        class="form-control"
                        name="quantidade"
                        id="quantidade"
                        placeholder="Quantidade"
                        value="<%= produto.quantidade %>"
                        required>
                    <label for="quantidade">Quantidade</label>
                </div>
                <div class="form-floating mb-3">
                    <input 
                        type="number" 
                        class="form-control"
                        name="minimo"
                        id="minimo"
                        placeholder="Mínimo"
                        value="<%= produto.minimo %>"
                        required>
                    <label for="minimo">Mínimo</label>
                </div>
                <div class="form-floating mb-3">
                    <input 
                        type="number" 
                        class="form-control"
                        name="maximo"
                        id="maximo"
                        placeholder="Máximo"
                        value="<%= produto.maximo %>"
                        required>
                    <label for="maximo">Máximo</label>
                </div>
                <select class="form-select mb-3" name="marcaId">
                    <% marcas.forEach(marca => {
                        if(produto.marcaId == marca.id)
                        {
                    %>
                        <option value="<%= marca.id %>" selected><%= marca.descricao %></option>
                    <%
                        }
                        else
                        {
                    %>
                        <option value="<%= marca.id %>"><%= marca.descricao %></option>
                    <%
                        }
                    })
                    %>
                </select>
                <select class="form-select mb-3" name="categoriumId">
                    <% categorias.forEach(categoria => {
                        if(produto.categoriumId == categoria.id)
                        {
                    %>
                        <option value="<%= categoria.id %>" selected><%= categoria.descricao %></option>
                    <%
                        }
                        else
                        {
                    %>
                        <option value="<%= categoria.id %>"><%= categoria.descricao %></option>
                    <%
                        }
                    })
                    %>
                </select>
                <div class="form-floating mb-3">
                    <button class="btn btn-primary" type="submit">Salvar</button>
                    <a href="/produtos" class="btn btn-warning">Cancelar</a>
                </div>

            </form>
        </div>
    </div>
</div>
<%- include('../partials/footer.ejs') %>